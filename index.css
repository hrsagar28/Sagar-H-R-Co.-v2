
@tailwind base;
@tailwind components;
@tailwind utilities;

.bg-grid {
  background-size: 80px 80px;
  background-image: linear-gradient(to right, rgba(0, 0, 0, 0.05) 1px, transparent 1px),
                    linear-gradient(to bottom, rgba(0, 0, 0, 0.05) 1px, transparent 1px);
}
.bg-noise {
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.5'/%3E%3C/svg%3E");
}
.custom-cursor-active, 
.custom-cursor-active a, 
.custom-cursor-active button {
  cursor: none;
}
/* Hide scrollbar for Chrome, Safari and Opera */
.no-scrollbar::-webkit-scrollbar {
    display: none;
}
/* Hide scrollbar for IE, Edge and Firefox */
.no-scrollbar {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
}

/* Roll Text Effect for Navbar */
.roll-text-group {
  display: inline-block;
  position: relative;
  overflow: hidden;
  height: 1.2em; /* Adjust based on line-height */
  vertical-align: bottom;
}

.roll-text-group .original-text,
.roll-text-group .hover-text {
  display: block;
  transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

.roll-text-group .hover-text {
  position: absolute;
  top: 0;
  left: 0;
  transform: translateY(100%);
  font-weight: 700; /* Optional bold on hover */
  color: #1A4D2E;
}

.group:hover .roll-text-group .original-text {
  transform: translateY(-100%);
}

.group:hover .roll-text-group .hover-text {
  transform: translateY(0);
}

/* Horizontal Bounce Animation */
@keyframes bounce-x {
  0%, 100% {
    transform: translateX(-25%);
    animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
  }
  50% {
    transform: translateX(0);
    animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
  }
}
.animate-bounce-x {
  animation: bounce-x 1s infinite;
}

/* ACCESSIBILITY FOCUS STYLES */
:focus-visible {
  outline: 3px solid #1A4D2E;
  outline-offset: 4px;
  box-shadow: 0 0 0 6px rgba(26, 77, 46, 0.2);
  z-index: 999;
}

/* Remove default outline for mouse users if desired, but keep for keyboard */
:focus:not(:focus-visible) {
  outline: none;
}

/* Programmatic focus on main container shouldn't show ring */
#main-content:focus {
  outline: none;
}

/* Animation Delays */
.animation-delay-2000 {
  animation-delay: 2s;
}
.animation-delay-4000 {
  animation-delay: 4s;
}

/* Grid Rows Transition Utilities */
.grid-rows-\[0fr\] {
  grid-template-rows: 0fr;
}
.grid-rows-\[1fr\] {
  grid-template-rows: 1fr;
}

/* PRINT STYLES */
@media print {
  @page {
    margin: 1cm;
    size: auto;
  }
  body {
    background-color: white !important;
    color: black !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  /* Hide unnecessary elements */
  nav, footer, iframe, .no-print, .print-hidden, 
  [role="dialog"], button, .sticky-sidebar {
    display: none !important;
  }

  /* Reset layout constraints */
  .container, .max-w-7xl, .max-w-5xl, .max-w-4xl, .w-full {
    max-width: 100% !important;
    width: 100% !important;
    padding: 0 !important;
    margin: 0 !important;
  }

  /* Styling fixes for print readability */
  p, h1, h2, h3, h4, h5, h6, li, span, div, label, input {
    color: black !important;
    text-shadow: none !important;
    background: transparent !important;
    box-shadow: none !important;
  }

  /* Restore background for specific elements if needed */
  .print-bg-force {
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  /* Borders */
  .border, .border-b, .border-t {
    border-color: #000 !important;
  }

  /* Layout resets */
  .fixed, .sticky, .absolute {
    position: static !important;
  }
  .min-h-screen {
    min-height: auto !important;
  }
  .grid {
    display: block !important;
  }
  .col-span-1, .col-span-2, .lg\:col-span-7, .lg\:col-span-5 {
    width: 100% !important;
    margin-bottom: 20px !important;
  }

  /* Inputs */
  input, select, textarea {
    border: 1px solid #ccc !important;
    box-shadow: none !important;
  }

  /* Expand hidden sections */
  .overflow-hidden, .max-h-0 {
    overflow: visible !important;
    max-height: none !important;
    opacity: 1 !important;
    display: block !important;
  }
}

/* PREMIUM ARTICLE TYPOGRAPHY & LAYOUT */
@layer components {
  .article-wrapper {
    @apply text-lg text-brand-dark/90 font-sans max-w-none selection:bg-brand-moss/20 selection:text-brand-dark;
  }

  /* Drop Cap - Clean Editorial Style */
  .article-wrapper > p:first-of-type::first-letter {
    @apply float-left text-[5.5rem] leading-[0.85] font-serif font-medium text-brand-moss mr-4 mt-1;
  }

  /* Headings - Serif for impact */
  .article-wrapper h2 {
    @apply font-serif font-bold text-3xl md:text-4xl text-brand-dark mt-16 mb-6 tracking-tight relative;
  }
  
  .article-wrapper h3 {
    @apply font-heading font-bold text-xl md:text-2xl text-brand-dark mt-10 mb-4;
  }

  /* Body Text */
  .article-wrapper p {
    @apply mb-6 leading-8 text-brand-stone font-normal text-lg md:text-[1.15rem] md:leading-[1.9];
  }

  /* Summary Card - Highlight Box */
  .article-wrapper .summary-card {
    @apply bg-brand-bg rounded-2xl p-8 my-10 border border-brand-border relative overflow-hidden;
  }
  
  .article-wrapper .summary-card::before {
    content: '';
    @apply absolute left-0 top-0 bottom-0 w-1.5 bg-brand-moss;
  }

  .article-wrapper .summary-card h3 {
    @apply font-sans text-xs font-bold uppercase tracking-[0.2em] text-brand-moss mt-0 mb-6 flex items-center gap-3 border-b border-brand-border/50 pb-4;
  }

  .article-wrapper .summary-card ul {
    @apply my-0 space-y-4 pl-0;
  }

  .article-wrapper .summary-card ul li {
    @apply pl-0 flex items-start gap-3 text-brand-dark font-heading font-semibold text-lg leading-snug;
  }
  
  /* Custom Checkmark Icon for Summary Items */
  .article-wrapper .summary-card ul li::before {
    content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%231A4D2E' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='20 6 9 17 4 12'%3E%3C/polyline%3E%3C/svg%3E");
    @apply static w-5 h-5 mt-0.5 shrink-0 bg-transparent rounded-none;
  }

  /* Regular Lists */
  .article-wrapper ul:not(.summary-card ul) {
    @apply space-y-3 my-8 pl-1;
  }
  
  .article-wrapper ul:not(.summary-card ul) li {
    @apply relative pl-8 text-brand-stone font-medium text-lg leading-relaxed;
  }
  
  .article-wrapper ul:not(.summary-card ul) li::before {
    content: '';
    @apply absolute left-0 top-[0.6em] w-1.5 h-1.5 bg-brand-moss rounded-full;
  }

  .article-wrapper strong {
    @apply text-brand-dark font-bold;
  }
  
  .article-wrapper a {
    @apply text-brand-moss font-bold border-b border-brand-moss/30 hover:border-brand-moss transition-colors decoration-0 pb-0.5;
  }
  
  /* Modern Blockquote */
  .article-wrapper blockquote {
    @apply relative pl-8 py-2 my-10 text-2xl md:text-3xl text-brand-dark font-serif italic leading-normal;
  }
  
  .article-wrapper blockquote::before {
    content: '';
    @apply absolute left-0 top-0 bottom-0 w-1 bg-brand-moss rounded-full;
  }
}
